{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/macbook/Documents/blog/components/home-page/home-center-component.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport dynamic from 'next/dynamic';\nimport ReactList from 'react-list';\nimport React, { useCallback, useContext, useState } from \"react\";\nimport Modal from \"~/components/shared/modal/modal\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport axios from \"axios\";\nimport { Context } from \"~/context/context\";\nimport Form from \"~/components/home-page/form\";\nvar TweetComponent = dynamic(_c = function _c() {\n  return import('../shared/tweet');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../shared/tweet')];\n    },\n    modules: ['../shared/tweet']\n  }\n});\n_c2 = TweetComponent;\nvar TweetBox = dynamic(_c3 = function _c3() {\n  return import('./tweet-box');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./tweet-box')];\n    },\n    modules: ['./tweet-box']\n  }\n});\n_c4 = TweetBox;\n\nvar HomeCenterComponent = function HomeCenterComponent(_ref) {\n  _s();\n\n  var childRef = _ref.childRef;\n\n  var _ref2 = useContext(Context),\n      setAllPosts = _ref2.setAllPosts,\n      allPosts = _ref2.allPosts,\n      postCount = _ref2.postCount,\n      id = _ref2.id,\n      showModal = _ref2.showModal,\n      setShowModal = _ref2.setShowModal,\n      setData = _ref2.setData,\n      data = _ref2.data,\n      post = _ref2.post;\n\n  var _useState = useState(null),\n      modalType = _useState[0],\n      setModalType = _useState[1];\n\n  var handleShowModal = useCallback(function (type) {\n    setModalType(type);\n    setShowModal(!showModal);\n  }, [showModal]);\n  var handleCloseModal = useCallback(function () {\n    setShowModal(false);\n  }, []);\n  var deleteMutation = useMutation( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios[\"delete\"](\"https://jsonplaceholder.typicode.com/posts/\".concat(id));\n\n          case 3:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response.data);\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            throw _context.t0;\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  })), {\n    onMutate: function onMutate() {// You can perform actions before the mutation starts, such as showing a loading indicator.\n      // This is a good place to update your UI to indicate that the delete operation is in progress.\n      // You can return a value that will be passed to onSettled if needed.\n    },\n    onSuccess: function onSuccess(data) {\n      console.log(\"Successful deletion\", {\n        data: data\n      });\n      setShowModal(false);\n    },\n    onError: function onError(error) {\n      console.log(\"Failed to delete\", {\n        error: error\n      });\n      setShowModal(false);\n    },\n    onSettled: function onSettled() {\n      setAllPosts(function (prev) {\n        return prev.filter(function (post) {\n          return post.id !== id;\n        });\n      });\n      console.log(\"Mutation completed.\");\n      setShowModal(false);\n    }\n  });\n\n  function handleSubmit() {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return deleteMutation.mutateAsync();\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  var editMutation = useMutation( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.patch(\"https://jsonplaceholder.typicode.com/posts/\".concat(id), {\n              title: data.title,\n              body: data.body\n            }, {\n              headers: {\n                \"Content-type\": \"application/json; charset=UTF-8\"\n              }\n            });\n\n          case 3:\n            response = _context2.sent;\n            return _context2.abrupt(\"return\", response.data);\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            throw _context2.t0;\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  })), {\n    onSuccess: function onSuccess(data) {\n      console.log(\"Successful\", {\n        data: data\n      });\n      setData({\n        title: \"\",\n        body: \"\"\n      });\n      setShowModal(false);\n    },\n    onError: function onError(error) {\n      console.log(\"Failed\", {\n        error: error\n      });\n      setShowModal(false);\n    },\n    onSettled: function onSettled(res) {\n      setAllPosts(function (prev) {\n        return [res].concat(_toConsumableArray(prev));\n      });\n      console.log(\"Mutation completed.\");\n      setData({\n        title: \"\",\n        body: \"\"\n      });\n      setShowModal(false);\n    }\n  });\n\n  function handleEditSubmit() {\n    return _handleEditSubmit.apply(this, arguments);\n  }\n\n  function _handleEditSubmit() {\n    _handleEditSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return editMutation.mutateAsync();\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _handleEditSubmit.apply(this, arguments);\n  }\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 3\n    }\n  }, __jsx(\"div\", {\n    className: \"p-3 border-b border-white border-opacity-15 sticky top-0 bg-dark z-50\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 4\n    }\n  }, __jsx(\"span\", {\n    className: \"text-white text-xl font-extrabold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, \"Home\")), __jsx(TweetBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 4\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 4\n    }\n  }, __jsx(ReactList, {\n    type: \"variable\",\n    axis: \"y\",\n    length: allPosts.length,\n    itemRenderer: function itemRenderer(idx, key) {\n      return __jsx(TweetComponent, _extends({\n        key: key,\n        handleShowModal: handleShowModal\n      }, allPosts[idx], {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 34\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  })), postCount !== 10 && __jsx(\"div\", {\n    ref: childRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }), showModal && __jsx(Modal, {\n    onCancel: handleCloseModal,\n    onSubmit: modalType === \"delete\" ? handleSubmit : handleEditSubmit,\n    isOpen: showModal,\n    submitButton: modalType === \"delete\" ? \"DELETE\" : \"EDIT\",\n    title: modalType === \"delete\" ? \"Do you sure delete this post?\" : \"Edit this post\",\n    children: modalType === 'edit' ? __jsx(Form, {\n      initialData: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 39\n      }\n    }) : null,\n    disable: modalType === \"delete\" ? false : data.title.length === 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 5\n    }\n  }));\n};\n\n_s(HomeCenterComponent, \"oQS3UnwUIFr5y8skL6mATVUAe3I=\", false, function () {\n  return [useMutation, useMutation];\n});\n\n_c5 = HomeCenterComponent;\nexport default HomeCenterComponent;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"TweetComponent$dynamic\");\n$RefreshReg$(_c2, \"TweetComponent\");\n$RefreshReg$(_c3, \"TweetBox$dynamic\");\n$RefreshReg$(_c4, \"TweetBox\");\n$RefreshReg$(_c5, \"HomeCenterComponent\");","map":{"version":3,"sources":["/Users/macbook/Documents/blog/components/home-page/home-center-component.tsx"],"names":["dynamic","ReactList","React","useCallback","useContext","useState","Modal","useMutation","axios","Context","Form","TweetComponent","ssr","TweetBox","HomeCenterComponent","childRef","setAllPosts","allPosts","postCount","id","showModal","setShowModal","setData","data","post","modalType","setModalType","handleShowModal","type","handleCloseModal","deleteMutation","response","onMutate","onSuccess","console","log","onError","error","onSettled","prev","filter","handleSubmit","mutateAsync","editMutation","patch","title","body","headers","res","handleEditSubmit","length","idx","key"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nimport ReactList from 'react-list';\nimport React, {useCallback, useContext, useState} from \"react\";\nimport Modal from \"~/components/shared/modal/modal\";\nimport {useMutation} from \"@tanstack/react-query\";\nimport axios from \"axios\";\nimport {Context} from \"~/context/context\";\nimport {ContextType} from \"~/types/static\";\nimport Form from \"~/components/home-page/form\";\nconst TweetComponent = dynamic(() => import('../shared/tweet'), { ssr: false });\nconst TweetBox = dynamic(() => import('./tweet-box'), { ssr: false });\n\ninterface HomeCenterComponentProps {\n\tchildRef: React.RefObject<HTMLDivElement>;\n}\nconst HomeCenterComponent: React.FC<HomeCenterComponentProps> = ({childRef}) => {\n\tconst { setAllPosts,allPosts,postCount,id,showModal, setShowModal,setData,data,post } = useContext(Context) as ContextType;\n\tconst [modalType, setModalType] = useState<string | null>(null);\n\n\tconst handleShowModal = useCallback((type: string) => {\n\t\tsetModalType(type);\n\t\tsetShowModal(!showModal);\n\t}, [showModal]);\n\n\n\tconst handleCloseModal = useCallback(() => {\n\t\tsetShowModal(false);\n\t}, []);\n\n\n\n\tconst deleteMutation = useMutation(\n\t\tasync () => {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.delete(\n\t\t\t\t\t`https://jsonplaceholder.typicode.com/posts/${id}`\n\t\t\t\t);\n\t\t\t\treturn response.data;\n\t\t\t} catch (error) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tonMutate() {\n\t\t\t\t// You can perform actions before the mutation starts, such as showing a loading indicator.\n\t\t\t\t// This is a good place to update your UI to indicate that the delete operation is in progress.\n\t\t\t\t// You can return a value that will be passed to onSettled if needed.\n\t\t\t},\n\t\t\tonSuccess(data) {\n\t\t\t\tconsole.log(\"Successful deletion\", { data });\n\t\t\t\tsetShowModal(false);\n\t\t\t},\n\t\t\tonError(error) {\n\t\t\t\tconsole.log(\"Failed to delete\", { error });\n\t\t\t\tsetShowModal(false);\n\t\t\t},\n\t\t\tonSettled() {\n\t\t\t\tsetAllPosts((prev)=> prev.filter(post => post.id !== id))\n\t\t\t\tconsole.log(\"Mutation completed.\");\n\t\t\t\tsetShowModal(false);\n\t\t\t},\n\t\t}\n\t);\n\n\tasync function handleSubmit(){\n\t\tawait deleteMutation.mutateAsync();\n\t}\n\n\tconst editMutation = useMutation(\n\t\tasync () => {\n\t\t\t// eslint-disable-next-line no-useless-catch\n\t\t\ttry {\n\t\t\t\tconst response = await axios.patch(\n\t\t\t\t\t`https://jsonplaceholder.typicode.com/posts/${id}`,\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: data.title,\n\t\t\t\t\t\tbody: data.body,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-type\": \"application/json; charset=UTF-8\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn response.data;\n\t\t\t} catch (error) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tonSuccess(data) {\n\t\t\t\tconsole.log(\"Successful\", {data});\n\t\t\t\tsetData({title: \"\",\n\t\t\t\t\tbody: \"\",})\n\t\t\t\tsetShowModal(false);\n\n\t\t\t},\n\t\t\tonError(error) {\n\t\t\t\tconsole.log(\"Failed\", {error});\n\t\t\t\tsetShowModal(false);\n\n\t\t\t},\n\t\t\tonSettled(res) {\n\t\t\t\tsetAllPosts((prev)=>[res,...prev])\n\t\t\t\tconsole.log(\"Mutation completed.\");\n\t\t\t\tsetData({title: \"\",\n\t\t\t\t\tbody: \"\",})\n\t\t\t\tsetShowModal(false);\n\t\t\t},\n\t\t}\n\t);\n\n\n\tasync function handleEditSubmit(){\n\t\tawait editMutation.mutateAsync()\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"p-3 border-b border-white border-opacity-15 sticky top-0 bg-dark z-50\">\n\t\t\t\t<span className=\"text-white text-xl font-extrabold\">Home</span>\n\t\t\t</div>\n\t\t\t<TweetBox />\n\t\t\t<div>\n\t\t\t\t<ReactList\n\t\t\t\t\ttype=\"variable\"\n\t\t\t\t\taxis=\"y\"\n\t\t\t\t\tlength={allPosts.length}\n\t\t\t\t\titemRenderer={(idx, key) => <TweetComponent key={key} handleShowModal={handleShowModal}  {...allPosts[idx]} />}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{postCount !== 10 && (\n\t\t\t\t<div ref={childRef}></div>\n\t\t\t)}\n\t\t\t{showModal && (\n\t\t\t\t<Modal\n\t\t\t\t\tonCancel={handleCloseModal}\n\t\t\t\t\tonSubmit={modalType === \"delete\" ? handleSubmit : handleEditSubmit}\n\t\t\t\t\tisOpen={showModal}\n\t\t\t\t\tsubmitButton={modalType === \"delete\" ? \"DELETE\" : \"EDIT\"}\n\t\t\t\t\ttitle={modalType === \"delete\" ? \"Do you sure delete this post?\" : \"Edit this post\"}\n\t\t\t\t\tchildren={modalType === 'edit' ? <Form  initialData={post} /> : null}\n\t\t\t\t\tdisable={modalType === \"delete\" ? false : data.title.length === 0}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default HomeCenterComponent;\n"]},"metadata":{},"sourceType":"module"}